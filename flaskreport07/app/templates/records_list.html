{% extends "base.html" %}

{% block title %} All Records {% endblock %} 

{% block content %}
    <h1>All Records</h1>
    
    <!-- Minimal Create Button -->
    <p>
        <a href="{{ url_for('main.create_record') }}" 
           style="
               padding:8px 14px;
               border-radius:4px;
               border:1px solid #d1d5db;
               background:#f3f4f6;
               text-decoration:none;
               color:#111;
               font-size:14px;
           ">
            + Create New Record
        </a>
    </p>

    {% if records %}
        <ul style="padding-left: 0; list-style:none;">
            {% for record in records %}
                <li>
                    
                    <h3 style="margin:0 0 6px 0;">
                        <a href="{{ url_for('main.view_record', id=record.id) }}"
                           style="text-decoration:none; color:#111;">
                            {{ record.title }}
                        </a>
                    </h3>

                    {% if record.content %}
                        <p style="margin:0 0 10px 0; color:#374151; line-height:1.5;">
                            {{ record.content|truncate(150) }}
                        </p>
                    {% endif %}

                    <!-- Minimal Button Group -->
                    <div style="margin-top:8px;">

                        <a href="{{ url_for('main.edit_record', id=record.id) }}"
                           style="
                               padding:6px 12px;
                               border-radius:4px;
                               border:1px solid #d1d5db;
                               background:#f3f4f6;
                               text-decoration:none;
                               color:#111;
                               font-size:14px;
                               margin-right:8px;
                           ">
                            Edit
                        </a>

                        <form action="{{ url_for('main.delete_record', id=record.id) }}" 
                              method="POST" 
                              style="display:inline;">
                            
                            <button type="submit"
                                    style="
                                        padding:6px 12px;
                                        border-radius:4px;
                                        border:1px solid #d1d5db;
                                        background:#f3f4f6;
                                        cursor:pointer;
                                        font-size:14px;
                                        color:#111;
                                    "
                                    onclick="return confirm('Delete this record?');">
                                Delete
                            </button>
                        </form>

                    </div>

                </li>
            {% endfor %}
        </ul>

    {% else %}
        <p>No records yet. Create your first one above!</p>
    {% endif %}
{% endblock %}
